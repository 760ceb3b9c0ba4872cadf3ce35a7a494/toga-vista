[tool.coverage.run]
parallel = true
branch = true
relative_files = true
source = [
    "android",
    "cocoa",
    "core",
    "dummy",
    "gtk",
    "iOS",
    "web",
    "winforms",
]

[tool.coverage.paths]
android = [
    "android/src/toga_android",
    "src/toga_android",
    "**/site-packages/toga_android",
]
cocoa = [
    "cocoa/src/toga_cocoa",
    "src/toga_cocoa",
    "**/site-packages/toga_cocoa",
]
core = [
    "core/src/toga",
    "src/toga",
    "**/site-packages/toga",
]
dummy = [
    "dummy/src/toga_dummy",
    "src/toga_dummy",
    "**/site-packages/toga_dummy",
]
gtk = [
    "gtk/src/toga_gtk",
    "src/toga_gtk",
    "**/site-packages/toga_gtk",
]
iOS = [
    "iOS/src/toga_iOS",
    "src/toga_iOS",
    "**/site-packages/toga_iOS",
]
web = [
    "web/src/toga_web",
    "src/toga_web",
    "**/site-packages/toga_web",
]
winforms = [
    "winforms/src/toga_winforms",
    "src/toga_winforms",
    "**/site-packages/toga_winforms",
]

[tool.coverage.report]
show_missing = true
skip_covered = true
skip_empty = true
precision = 1
exclude_lines = [
    "pragma: no cover",
    "@(abc\\.)?abstractmethod",
    "NotImplementedError\\(\\)"
]

[tool.isort]
profile = "black"
split_on_trailing_comma = true
combine_as_imports = true
known_first_party = [
    "toga",
    "toga_android",
    "toga_cocoa",
    "toga_dummy",
    "toga_gtk",
    "toga_iOS",
    "toga_web",
    "toga_winforms",
]

[tool.towncrier]
directory = "changes"
package = "toga"
package_dir = "src"
filename = "docs/background/releases.rst"
title_format = "{version} ({project_date})"
template = "changes/template.rst"
